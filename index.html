<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <title>VR experience in JS</title>
        <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/aframe-physics-system@4.0.1/dist/aframe-physics-system.min.js"></script>
        <script>
	        AFRAME.registerComponent('change-color-on-hover', {
		        schema: {
			        color: {default: 'red'}
		        },

		        init: function () {
			        let data = this.data;
			        let el = this.el;  // <a-box>
			        let defaultColor = el.getAttribute('material').color;

			        el.addEventListener('mouseenter', function () {
				        el.setAttribute('color', data.color);
			        });

			        el.addEventListener('mouseleave', function () {
				        el.setAttribute('color', defaultColor);
			        });
		        }
	        });

	        AFRAME.registerComponent('x-button-listener', {
		        init: function () {
			        let el = this.el;
			        el.addEventListener('xbuttondown', e => el.setAttribute('visible', !el.getAttribute('visible')));
		        }
	        });

	        AFRAME.registerComponent('a-button-listener', {
		        init: function () {
			        let el = this.el;
			        el.addEventListener('abuttondown', e => el.setAttribute('visible', !el.getAttribute('visible')));
		        }
	        });

	        AFRAME.scenes[0].querySelector('[raycaster]').components.raycaster.refreshObjects();
        </script>
    </head>
    <body>
        <a-scene>
<!--             change-color-on-hover="color: blue" -->
            <a-box color="#EF2D5E" position="0 1 -1"></a-box>
<!--            <a-entity gearvr-controls></a-entity>-->
<!--            <a-entity oculus-go-controls></a-entity>-->
<!--            <a-entity daydream-controls></a-entity>-->

<!--            <a-entity vive-controls="hand: left"></a-entity>-->
<!--            <a-entity vive-controls="hand: right"></a-entity>-->

            <a-entity laser-controls="hand: left"
                      raycaster="showLine: true; far: 100"
                      line="color: orange; opacity: 0.5" x-button-listener></a-entity>
            <a-entity laser-controls="hand: right"
                      raycaster="showLine: true; far: 100"
                      line="color: orange; opacity: 0.5" a-button-listener></a-entity>

<!--            <a-entity hand-controls="left" laser-controls raycaster="far: 5"></a-entity>-->
<!--            <a-entity hand-controls="right" laser-controls raycaster="far: 5"></a-entity>-->
<!--            <a-camera>-->
<!--                <a-cursor></a-cursor>-->
<!--            </a-camera>-->
        </a-scene>
    </body>
</html>
